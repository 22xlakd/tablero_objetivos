<div class="panel panel-default">
  <div class="panel-heading">Editando variable: <%= @variable.nombre %></div>
  <div class="panel-body">

    <%= form_for(@variable, html: { role: 'form', onsubmit: 'changeSeparator("variable_valor_objetivo");changeSeparator("variable_proyeccion_mensual");changeSeparator("variable_porcentaje_proyectado")' }) do |f| %>
      <% if @variable.errors.any? %>
        <div id="error_explanation" class="row">
          <div class="col-lg-12">
            <div class="alert bg-danger" role="alert">
              <em class="fa fa-lg fa-warning">&nbsp;</em>
              <%= t(:error, count: @variable.errors.count) %>&nbsp;<%= t(:model_error) %>
              <a href="#" class="pull-right"><em class="fa fa-lg fa-close"></em></a>

              <ul>
                <% @variable.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          </div>
        </div>
      <% end %>

      <div class="row">
        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
          <div class="form-group">
            <%= f.label :nombre %>
            <%= f.text_field :nombre, class: "form-control", placeholder: "Placeholder" %>
          </div>
          <div class="form-group">
            <%= f.label :puntaje %>
            <%= f.number_field :puntaje, class: "form-control", required: "required", min: 1 %>
          </div> 
        </div>

        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
          <div class="form-group">
            <%= f.label :tipo %>
            <%= select("variable", "tipo", @variable.variable_types.collect {|vt| [vt.capitalize, vt] }, { include_blank: false }, { class: "form-control input-height", required: "required" }) %>
          </div>
          <div class="form-group">
            <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 no-padding">
              <label for="users"><%= t(:user, count: 2, scope: [:activerecord, :models]) %></label>
              <%= display_user_selector %>
            </div>
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              <%= button_tag(t(:view_objective), onclick: "showObjectiveForm();", class: "btn-add-objective btn btn-lg btn-primary", type: "button", id: "view_objective") %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>

<%= render partial: 'objetivos/form', locals: { objetivo: Objetivo.new } %>

<div class="panel panel-default">
  <div class="panel-body">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
        <%= button_tag(t(:update), class: "btn btn-lg btn-success", type: "submit") %>
        <%= button_tag(t(:reset), class: "btn btn-lg btn-default", type: "reset") %>
      </div>
    </div>
  </div>
</div>
